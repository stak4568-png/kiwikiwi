# 슬롯 배치 가이드

## 개요
`FieldSlotManager`를 사용하여 필드에 카드 슬롯을 배치하는 방법을 설명합니다.

---

## 1단계: FieldSlotManager 생성

### 1-1. GameObject 생성
1. Unity 에디터에서 Hierarchy 창 우클릭
2. **Create Empty** 선택
3. 이름을 `FieldSlotManager`로 변경

### 1-2. 컴포넌트 추가
1. `FieldSlotManager` 선택
2. Inspector 창에서 **Add Component** 클릭
3. `FieldSlotManager` 스크립트 검색 후 추가

---

## 2단계: 슬롯 위치 생성

### 2-1. 플레이어 필드 슬롯 생성

#### 방법 A: 빈 GameObject로 생성 (권장)
1. Hierarchy에서 **Create Empty** → 이름: `PlayerSlot_1`
2. 위치를 원하는 곳으로 이동 (RectTransform 사용)
3. `PlayerSlot_2`, `PlayerSlot_3`, `PlayerSlot_4`, `PlayerSlot_5` 생성
4. 각 슬롯의 위치를 적절히 배치

#### 방법 B: Image로 생성 (비주얼 포함)
1. Hierarchy에서 **UI → Image** 생성
2. 이름을 `PlayerSlot_1`로 변경
3. 크기와 위치 설정 (예: Width: 150, Height: 200)
4. 색상을 반투명하게 설정 (비주얼 확인용)
5. `PlayerSlot_2` ~ `PlayerSlot_5` 반복

### 2-2. 적 필드 슬롯 생성
- 플레이어 슬롯과 동일한 방법으로 `EnemySlot_1` ~ `EnemySlot_5` 생성
- 적 필드 영역에 배치

---

## 3단계: FieldSlotManager 설정

### 3-1. 슬롯 할당
1. `FieldSlotManager` 선택
2. Inspector에서 **Player Slots** 배열 확장
3. **Size**를 5로 설정
4. 각 Element에 `PlayerSlot_1` ~ `PlayerSlot_5` 드래그 앤 드롭
5. **Enemy Slots** 배열도 동일하게 설정

### 3-2. 슬롯 비주얼 설정 (선택)
- **Slot Visual Prefab**: 슬롯 표시용 프리팹 (선택)
- **Empty Slot Color**: 빈 슬롯 색상
- **Occupied Slot Color**: 카드가 있는 슬롯 색상

---

## 4단계: 슬롯 배치 레이아웃

### 4-1. 수평 배치 (권장)
```
[PlayerSlot_1] [PlayerSlot_2] [PlayerSlot_3] [PlayerSlot_4] [PlayerSlot_5]
```

**설정 방법:**
1. 모든 플레이어 슬롯을 선택 (Ctrl/Cmd + 클릭)
2. **RectTransform**에서 **Anchor Presets** 사용
3. 또는 **Horizontal Layout Group** 사용

### 4-2. Horizontal Layout Group 사용
1. 빈 GameObject 생성 → 이름: `PlayerSlotContainer`
2. **Add Component → Layout → Horizontal Layout Group**
3. **Spacing**: 120 (슬롯 간 간격)
4. **Child Alignment**: Middle Center
5. 모든 `PlayerSlot_X`를 이 Container의 자식으로 이동

### 4-3. 수동 배치
각 슬롯의 **RectTransform**에서:
- **Anchored Position X**: 
  - Slot_1: -240
  - Slot_2: -120
  - Slot_3: 0
  - Slot_4: 120
  - Slot_5: 240
- **Anchored Position Y**: 0 (또는 원하는 Y 위치)

---

## 5단계: 슬롯 크기 및 앵커 설정

### 5-1. 슬롯 크기
- **Width**: 150 (카드 너비에 맞게)
- **Height**: 200 (카드 높이에 맞게)

### 5-2. 앵커 설정
- **Anchor Presets**: Middle Center (또는 원하는 위치)
- **Pivot**: (0.5, 0.5) - 중앙

---

## 6단계: 테스트

### 6-1. 게임 실행
1. Play 버튼 클릭
2. 손패에서 카드를 드래그하여 필드에 배치
3. 가장 가까운 슬롯에 자동 배치되는지 확인

### 6-2. 확인 사항
- ✅ 카드가 슬롯 중앙에 배치되는가?
- ✅ 슬롯이 비어있을 때만 배치되는가?
- ✅ 필드가 가득 찼을 때 배치가 안 되는가?
- ✅ 카드 파괴 시 슬롯이 비워지는가?

---

## 7단계: 고급 설정

### 7-1. 슬롯 비주얼 프리팹 생성
1. **UI → Image** 생성
2. 원하는 디자인으로 설정
3. 프리팹으로 저장
4. `FieldSlotManager`의 **Slot Visual Prefab**에 할당

### 7-2. 슬롯 개수 변경
- `Slot.cs`의 `x_max` 값을 변경 (기본: 5)
- `FieldSlotManager`의 배열 크기 조정
- 새로운 슬롯 Transform 생성 및 할당

### 7-3. 여러 행 추가 (y 값 사용)
- `Slot.cs`의 `y_max` 값을 변경
- 두 번째 행 슬롯 생성
- `FieldSlotManager`에 추가 슬롯 배열 생성

---

## 문제 해결

### 문제 1: 카드가 슬롯에 배치되지 않음
**해결:**
- `FieldSlotManager`의 슬롯 배열이 올바르게 할당되었는지 확인
- 슬롯 Transform이 null이 아닌지 확인
- `Draggable.cs`의 `CheckSlotDrop` 메서드 확인

### 문제 2: 카드가 잘못된 위치에 배치됨
**해결:**
- 슬롯의 RectTransform 앵커 설정 확인
- 슬롯의 크기와 위치 확인
- 카드의 RectTransform 설정 확인

### 문제 3: 슬롯이 보이지 않음
**해결:**
- 슬롯에 Image 컴포넌트 추가
- 색상 알파값 확인 (0이면 투명)
- Canvas 렌더 모드 확인

---

## 예시 씬 구조

```
Canvas
├── FieldSlotManager (GameObject)
│   └── FieldSlotManager (Component)
│       ├── Player Slots [5]
│       │   ├── PlayerSlot_1
│       │   ├── PlayerSlot_2
│       │   ├── PlayerSlot_3
│       │   ├── PlayerSlot_4
│       │   └── PlayerSlot_5
│       └── Enemy Slots [5]
│           ├── EnemySlot_1
│           ├── EnemySlot_2
│           ├── EnemySlot_3
│           ├── EnemySlot_4
│           └── EnemySlot_5
├── PlayerSlotContainer (GameObject)
│   ├── Horizontal Layout Group
│   ├── PlayerSlot_1
│   ├── PlayerSlot_2
│   ├── PlayerSlot_3
│   ├── PlayerSlot_4
│   └── PlayerSlot_5
└── EnemySlotContainer (GameObject)
    ├── Horizontal Layout Group
    ├── EnemySlot_1
    ├── EnemySlot_2
    ├── EnemySlot_3
    ├── EnemySlot_4
    └── EnemySlot_5
```

---

## 팁

1. **레이아웃 그룹 사용**: 슬롯 배치가 자동으로 정렬됨
2. **프리팹 활용**: 슬롯을 프리팹으로 만들어 재사용
3. **네이밍 규칙**: `PlayerSlot_X`, `EnemySlot_X`로 일관성 유지
4. **디버깅**: 슬롯에 색상을 설정하여 위치 확인
5. **확장성**: 나중에 슬롯 개수 변경을 고려하여 코드 작성

---

## 완료 체크리스트

- [ ] FieldSlotManager GameObject 생성
- [ ] FieldSlotManager 컴포넌트 추가
- [ ] 플레이어 슬롯 5개 생성 및 배치
- [ ] 적 슬롯 5개 생성 및 배치
- [ ] FieldSlotManager에 슬롯 할당
- [ ] 슬롯 크기 및 위치 설정
- [ ] 게임 테스트 및 확인

